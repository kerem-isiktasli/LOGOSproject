# 핵심 타입 정의

> **최종 업데이트**: 2026-01-07
> **코드 위치**: `src/core/types.ts`
> **상태**: 활성

---

## 맥락 및 목적

이 파일은 전체 LOGOS 애플리케이션의 **타입 시스템 기초**입니다. 핵심 알고리즘에서 사용하는 모든 데이터 구조를 정의하여 코드베이스 전반에 걸쳐 공유 어휘를 확립합니다. 이 파일이 없으면 LOGOS의 나머지 부분은 통신할 수 없습니다 - 말 그대로 다른 모든 모듈이 사용하는 언어입니다.

**비즈니스 필요성**: 언어 학습은 많은 상호 관련 개념(능력 수준, 기억 스케줄링, 어휘 지표, 과제 유형)이 있는 복잡한 도메인입니다. 신뢰할 수 있는 소프트웨어를 구축하려면 이러한 모든 개념에 정확하고 일관된 정의가 필요합니다. 이 파일은 개발자들이 같은 것에 대해 다른 용어를 사용하는 것을 방지하고("점수" vs "능력" vs "theta") 전체 애플리케이션에서 타입 안전성을 보장합니다.

---

## 미시적 관점: 직접적 관계

### 의존성 (이 파일이 필요로 하는 것)

이 파일은 **의존성이 없습니다** - 기초 계층입니다. TypeScript의 내장 타입만 사용합니다.

### 의존처 (이 파일을 필요로 하는 것)

**핵심 알고리즘 모듈:**
- `src/core/irt.ts`: `ItemParameter`, `ThetaEstimate`, `ItemCalibrationResult` 사용
- `src/core/fsrs.ts`: `FSRSCard`, `FSRSParameters`, `MasteryState` 재내보내기/확장
- `src/core/pmi.ts`: `PMIResult`, `PMIPair`, `DifficultyMapping`, `TaskType` 사용
- `src/core/priority.ts`: `FREMetrics`, `PriorityCalculation`, `PriorityWeights` 사용
- `src/core/bottleneck.ts`: `BottleneckEvidence`, `BottleneckAnalysis`, `ComponentType` 사용

**서비스 계층:**
- `src/main/services/task-generation.service.ts`: `TaskSpec`, `TaskContent`, `Task` 사용
- `src/main/services/scoring-update.service.ts`: `MasteryState`, `MasteryResponse` 사용

---

## 거시적 관점: 시스템 통합

### 아키텍처 계층

이 파일은 **계층 0 (기초)**에 위치합니다 - 의존성이 없고 모든 것이 이것에 의존합니다:

```
+------------------------------------------------------------+
| 계층 3: 렌더러 (React 컴포넌트)                              |
+------------------------------------------------------------+
                            |
                            v
+------------------------------------------------------------+
| 계층 2: IPC 브릿지 (contracts.ts, *.ipc.ts)                |
+------------------------------------------------------------+
                            |
                            v
+------------------------------------------------------------+
| 계층 1: 서비스 & 메인 프로세스                               |
+------------------------------------------------------------+
                            |
                            v
+------------------------------------------------------------+
| 계층 0: 핵심 타입 (이 파일)                                  |  <-- 기초
+------------------------------------------------------------+
```

---

## 타입 도메인 구성

### 1. IRT 타입 (문항반응이론)

**목적**: 학습자 능력과 문항 난이도의 심리측정 모델링을 가능하게 함.

| 타입 | 쉬운 설명 |
|------|-----------|
| `IRTModel` | 사용할 통계 모델 ('1PL', '2PL', '3PL') |
| `ItemParameter` | 학습하기 얼마나 어려운지에 영향을 미치는 어휘 항목의 속성 |
| `ThetaEstimate` | 학습자가 얼마나 능숙한지의 측정 (신뢰 구간 포함) |

**핵심 통찰**: Theta(능력)와 난이도는 같은 척도에 있습니다. theta가 0이면 평균 능력; 난이도가 0이면 평균 난이도. theta가 난이도와 같을 때 학습자는 50% 성공 확률을 가집니다.

### 2. PMI 타입 (점별 상호정보량)

**목적**: 자연어에서 단어들이 얼마나 강하게 연관되는지 측정.

| 타입 | 쉬운 설명 |
|------|-----------|
| `PMIResult` | 두 단어 간 측정된 연관 강도 |
| `PMIPair` | 분석할 두 단어 |
| `CorpusStatistics` | 텍스트 모음에서의 단어 빈도에 대한 배경 데이터 |

**핵심 통찰**: 높은 PMI는 단어들이 우연보다 더 자주 함께 나타남을 의미합니다. "커피"와 "컵"은 높은 PMI를 가집니다.

### 3. FSRS 타입 (간격반복)

**목적**: 장기 기억을 최대화하기 위해 최적의 간격으로 복습을 스케줄링.

| 타입 | 쉬운 설명 |
|------|-----------|
| `FSRSCard` | 항목의 기억 상태 (얼마나 잘 배웠는지, 얼마나 안정적인지) |
| `FSRSRating` | 학습자의 자기 평가 (1=잊음, 4=쉬움) |
| `FSRSParameters` | 알고리즘 튜닝 설정 |
| `FSRSScheduleResult` | 다음에 언제 복습할지 |

**핵심 통찰**: 안정성(S)은 잊을 때까지의 일수입니다. 알고리즘은 90% 기억 유지를 목표로 복습 타이밍을 최적화합니다.

### 4. 숙달 타입

**목적**: 학습 단계를 통한 진행 추적 (미지 -> 인식 -> 회상 -> 산출 -> 자동화).

| 타입 | 쉬운 설명 |
|------|-----------|
| `MasteryStage` | 현재 기술 수준 (0-4) |
| `MasteryState` | 항목에 대한 완전한 학습 기록 |
| `ScaffoldingGap` | 힌트 있을 때와 없을 때의 성능 차이 |

### 5. 과제 타입

**목적**: LOGOS가 생성할 수 있는 학습 연습의 종류를 정의.

| 타입 | 쉬운 설명 |
|------|-----------|
| `TaskType` | 연습의 종류 (인식, 회상, 산출 등) |
| `TaskFormat` | 연습의 제시 방식 (MCQ, 빈칸 채우기, 자유 응답) |
| `TaskSpec` | 생성할 연습에 대한 요청 |
| `TaskContent` | 실제 연습 내용 (프롬프트, 답, 힌트) |

### 6. 우선순위 타입 (FRE 지표)

**목적**: 빈도, 관계, 맥락을 기반으로 다음에 무엇을 공부할지 결정.

| 타입 | 쉬운 설명 |
|------|-----------|
| `FREMetrics` | 어휘에 대한 3차원 중요도 점수 |
| `PriorityCalculation` | 하나의 항목에 대한 완전한 순위 데이터 |
| `PriorityWeights` | 계산에서 F, R, E의 균형을 맞추는 방법 |

**핵심 통찰**: FRE는 Frequency(빈도), Relational density(관계 밀도), Contextual contribution(맥락적 기여)를 의미합니다. 높은 FRE 단어를 먼저 학습합니다.

### 7. 병목 타입

**목적**: 진행을 막는 언어 구성요소(음운, 형태, 어휘, 통사, 화용) 탐지.

| 타입 | 쉬운 설명 |
|------|-----------|
| `ComponentType` | 다섯 가지 언어 수준 (PHON, MORPH, LEX, SYNT, PRAG) |
| `BottleneckEvidence` | 한 수준에서의 오류 패턴 |
| `BottleneckAnalysis` | 오류 원인 진단 |
| `CascadeAnalysis` | 한 수준의 오류가 상위 수준의 오류를 어떻게 유발하는지 |

**핵심 통찰**: 언어 수준은 계단식으로 형성됩니다: 음운 -> 형태 -> 어휘 -> 통사 -> 화용. 하위 수준의 오류가 상위 수준에서 명백한 오류를 유발합니다.

---

## 기술 개념 (쉬운 설명)

### Theta (능력 매개변수)

**기술적**: 문항반응이론에서 측정되는 구인에 대한 사람의 기저 능력을 나타내는 잠재 특성 매개변수.

**쉬운 설명**: theta를 숨겨진 기술 수준처럼 생각하세요. 직접 볼 수는 없지만 수행을 보고 추정할 수 있습니다. 0은 평균, 양수는 평균 이상, 음수는 평균 이하입니다.

### 안정성 (FSRS)

**기술적**: 성공적 회상 확률이 목표 기억 유지율(일반적으로 90%)과 같아지는 일 단위 간격.

**쉬운 설명**: 잊을 때까지의 일수. 안정성이 30일이면 알고리즘은 약 한 달 동안 기억할 것으로 예측합니다.

### FRE 지표

**기술적**: 코퍼스 빈도(F), 의미 네트워크 중심성(R), 맥락적 정보 이득(E)을 결합한 3차원 지표.

**쉬운 설명**: 단어가 왜 중요한지 측정하는 세 가지 방법. F = 실제 언어에서 얼마나 자주 나타나는지. R = 다른 단어들과 얼마나 연결되는지. E = 이해에 얼마나 많은 의미를 더하는지.

### 계단식 순서

**기술적**: 언어의 상향식 처리를 나타내는 이론적 계층구조 PHON -> MORPH -> LEX -> SYNT -> PRAG.

**쉬운 설명**: 언어 이해는 소리에서 의미로 흐릅니다. 먼저 소리를 듣고(음운), 단어 부분을 인식하고(형태), 단어를 식별하고(어휘), 문법을 분석하고(통사), 의도를 이해합니다(화용). 체인 초반의 문제가 나중에 문제를 일으킵니다.

---

## 명명 규칙

| 올바른 용어 | 잘못된 대안 |
|-------------|-------------|
| `theta` | score, level, ability |
| `priority` | weight, importance |
| `irtDifficulty` | hardness |
| `frequency` | F |
| `relationalDensity` | R |
| `contextualContribution` | E |
